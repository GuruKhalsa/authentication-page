(()=>{"use strict";var e={91:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},315:(e,t,a)=>{e.exports=a.p+"80db20f3f2e68ccf6826.svg"},710:(e,t,a)=>{e.exports=a.p+"76cf120a7a2f34cd8c54.svg"},886:(e,t,a)=>{e.exports=a.p+"8ba97cecaa62580699a1.svg"}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,a),i.exports}a.m=e,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.p="",a.b=document.baseURI||self.location.href,(()=>{var e=a(91),t=a.n(e),s=new URL(a(710),a.b),o=new URL(a(886),a.b),i=new URL(a(315),a.b);const n="<style>:host{--theme-blue:#3FA7FE;--theme-green:#B4FFC9;--theme-yellow:#FEB12B;--theme-red:#FF4D4D;--theme-gray:#9394A9;--theme-midnight:#18182F;--theme-gradient-evening:linear-gradient(180deg, #313450 0%, rgba(49, 52, 80, 0.5) 100%)}*{font-family:Inter,sans-serif;font-weight:400}h1{font-size:20px;font-weight:500;font-size:20px;line-height:26px}h2{font-weight:700;font-size:18px;line-height:22px}div,p{font-weight:400;font-size:14px;line-height:150%}.btn{font-weight:700;font-size:16px;line-height:19px;letter-spacing:.5px}.btn.btn-blue{color:#fff;background:var(--theme-blue);transition:all .2s ease}.btn.btn-blue:hover{filter:brightness(.75)}.btn.disabled{background:var(--theme-gray)}.auth-page-wrapper{position:fixed;bottom:-1px;width:100%}.auth-page-wrapper::before{content:'';display:inline-block;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.5)}.auth-page-wrapper .auth-page{position:relative;padding:10px 20px;color:#fff;background:var(--theme-midnight);border-radius:20px 20px 0 0}.auth-page-wrapper .auth-page .btn-close{position:absolute;top:20px;left:20px;cursor:pointer;transition:all .2s ease}.auth-page-wrapper .auth-page .btn-close:hover{filter:brightness(.75)}.auth-page-wrapper .auth-page .__header{text-align:center;margin-bottom:20px}.auth-page-wrapper .auth-page .__header #status-icon{margin:-15px 0 -25px}.auth-page-wrapper .auth-page .__header .status-title img{margin-left:8px;margin-right:-8px;vertical-align:text-bottom}.auth-page-wrapper .auth-page #__status-box{display:none;margin-bottom:14px;padding:20px;background:var(--theme-gradient-evening);border-radius:24px}.auth-page-wrapper .auth-page #__status-box .tag{padding:6px 12px;font-family:'Roboto Mono';font-weight:700;font-size:10px;line-height:13px;letter-spacing:3px;text-transform:uppercase;background:var(--theme-midnight);border-radius:6px}.auth-page-wrapper .auth-page #__status-box .item{margin:10px 0;font-family:'Roboto Mono';font-weight:500;font-size:20px;line-height:26px;letter-spacing:.5px}.auth-page-wrapper .auth-page #__status-box .description{margin-bottom:20px;font-size:12px;line-height:18px;cursor:pointer}.auth-page-wrapper .auth-page #__status-box .description::after{content:'less';display:inline;margin-left:5px;color:#fff}.auth-page-wrapper .auth-page #__status-box .description.hide{position:relative;display:block;display:-webkit-box;height:calc(12px*1.6*2);-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:clip}.auth-page-wrapper .auth-page #__status-box .description.hide::after{content:'more';position:absolute;bottom:0;right:0;height:19.2px}.auth-page-wrapper .auth-page #__status-box .description::after{content:'less';display:inline;margin-left:5px;color:#fff}.auth-page-wrapper .auth-page #__status-box .description.hide::after{content:'more'}.auth-page-wrapper .auth-page #__status-box>.row{margin:7px 0}.auth-page-wrapper .auth-page #__status-box .key{font-size:12px;letter-spacing:.5px}.auth-page-wrapper .auth-page #__status-box .value{font-family:'Roboto Mono';font-size:12px;text-align:right;letter-spacing:1px;text-decoration-line:underline;color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:400px;transition:all .2s ease}.auth-page-wrapper .auth-page #__status-box a.value:hover{color:var(--theme-blue)}.auth-page-wrapper .auth-page .__copyright{margin-top:14px;text-align:center;color:var(--theme-gray)}.auth-page-wrapper .auth-page .__copyright a{color:var(--theme-gray)}.auth-page-wrapper .auth-page .__copyright strong{color:#fff;font-weight:500}.auth-page-wrapper .auth-page .btn{display:none;width:100%}</style> <div class=\"auth-page-wrapper\"> <div class=\"auth-page\"> <img src=\""+t()(s)+'" class="btn-close" alt="Close"> <div class="__loading"> </div> <div class="__header"> <img id="status-icon" alt="Status icon"> <h2 class="status-title"> <strong id="status-type"></strong> <img src="'+t()(o)+'" alt="Question"> </h2> <p id="status-message" class="text-muted m-0"></p> </div> <div id="__status-box"> <div class="d-flex align-items-center justify-content-between"> <span class="tag">Status</span> <img src="'+t()(i)+'" alt="Checked"> </div> <h1 class="item" data-value="tag.product_name"></h1> <p class="description text-muted hide" data-value="tag.comments"></p> <div class="row align-items-center justify-content-between"> <div class="key col-5 p-0">UID</div> <div class="value col-7 p-0" data-value="tag.uid"></div> </div> <div class="row align-items-center justify-content-between"> <div class="key col-5 p-0">Token ID</div> <div class="value col-7 p-0" data-value="tag.nft_token_id"></div> </div> <div class="row align-items-center justify-content-between"> <div class="key col-5 p-0">Owner Address</div> <a class="value col-7 p-0" target="_blank" id="owner-address" data-value="tag.nft_owner_address"></a> </div> <div class="row align-items-center justify-content-between"> <div class="key col-5 p-0">Contract Address</div> <a class="value col-7 p-0" target="_blank" id="contract-address" data-value="tag.nft_contract_address"></a> </div> </div> <a id="redeem" class="btn btn-blue" target="_blank">Redeem NFT</a> <div class="__copyright"> <a href="https://www.smartseal.io/" target="_blank">Powered by <strong>SmartSeal</strong></a> </div> </div> </div> ',r=document.createElement("template");r.innerHTML=n;const p=r;function d(e,t){var a=t.getAttribute("data-value");t.innerText=function(e,t){return t.split(".").reduce((function(e,t){return e&&e[t]}),e)}(e,a)}!function(e){for(var t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var s=t[a].split("=");if("pl"==decodeURIComponent(s[0]))return decodeURIComponent(s[1])}console.log("Query variable %s not found","pl")}();var l={useragent:"useragent string goes here",ip_address:"111.111.111.111",url_payload:"4D43652BD6DFD67F9359EEEB178BFD7AFBA2C1915C52AF90"};class c extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}).appendChild(p.content.cloneNode(!0))}connectedCallback(){this.description=this.shadowRoot.querySelector(".description"),this.description.addEventListener("click",(()=>{this.toggleDescription()})),this.closeBtn=this.shadowRoot.querySelector(".btn-close"),this.closeBtn.addEventListener("click",(()=>{this.close()})),this.getTagData(l)}toggleDescription(){this.description.classList.toggle("hide")}close(){this.shadowRoot.querySelector(".auth-page-wrapper").style.display="none"}setNftAddress(e,t,a){if(e){let s;1===e?s="https://etherscan.io/address/":137===e&&(s="https://polygonscan.com/address/"),this.shadowRoot.getElementById("owner-address").href=s+t,this.shadowRoot.getElementById("contract-address").href=s+a}}setRedemptionUrl(e){e?this.shadowRoot.getElementById("redeem").href=e:this.shadowRoot.getElementById("redeem").classList.add("disabled")}async getTagData(e){let t,a,s,o=await fetch("https://staging.smartseal.io/api/authenticate/",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",mode:"cors",body:JSON.stringify(e)}),i=await o.text();switch(i=JSON.parse(i),i.scan.auth_stat){case 0:t="./assets/icons/status-error.svg",a="Error",s="There was a problem authenticating this tag. Please contact info@smartseal.io for more information";break;case 1:t="./assets/icons/status-success.svg",a="Authenticated",this.shadowRoot.getElementById("status-message").style.display="none",this.shadowRoot.getElementById("__status-box").style.display="block",this.shadowRoot.getElementById("redeem").style.display="block",this.setNftAddress(i.tag.chain_id,i.tag.nft_owner_address,i.tag.nft_contract_address),this.setRedemptionUrl(i.tag.nft_redemption_url);break;case 2:t="./assets/icons/status-success.svg",a="Authenticated and Sealed",this.shadowRoot.getElementById("status-message").style.display="none",this.shadowRoot.getElementById("__status-box").style.display="block",this.setNftAddress(i.tag.chain_id,i.tag.nft_owner_address,i.tag.nft_contract_address),this.setRedemptionUrl(i.tag.nft_redemption_url);break;case 3:t="./assets/icons/status-success.svg",a="Authenticated and Unsealed",this.shadowRoot.getElementById("status-message").style.display="none",this.shadowRoot.getElementById("__status-box").style.display="block",this.setNftAddress(i.tag.chain_id,i.tag.nft_owner_address,i.tag.nft_contract_address);break;case 4:case 5:case 6:t="./assets/icons/status-error.svg",a="Tag Not Active",s="Here is where we can have the error message on this screen and the next action";break;case 7:t="./assets/icons/status-warning.svg",a="Authentication Token Expired",s="Please rescan tag";break;case 8:t="./assets/icons/status-error.svg",a="Authentication Code Not Valid",s="Here is where we can have the error message on this screen and the next action"}return this.shadowRoot.getElementById("status-icon").src=t,this.shadowRoot.getElementById("status-type").innerText=a,this.shadowRoot.getElementById("status-message").innerText=s,function(e,t){var a=t.querySelectorAll("[data-value]");[].forEach.call(a,d.bind(null,e))}(i,this.shadowRoot.querySelector(".auth-page")),i}}window.customElements.define("smartseal-auth",c)})()})();